import{r as d,n as x,j as e,Y as N}from"./app-DrNWwami.js";import{A as v}from"./AuthenticatedLayout-CyBIuHTu.js";import{S as C}from"./Icons-CfEnB7jo.js";import"./sweetalert2.all-v7t1F3Wn.js";import"./index-fdPvxAHf.js";import{f as h}from"./date-DbclOb_I.js";import{d as y}from"./chunk-IFRGGGYI-BhE7WQ0J.js";import{i as D}from"./chunk-6MDMHKHV-DmO_v9hH.js";import{t as S,a as k,b as s,c as G,d as P,e as a}from"./chunk-F3UDT23P-J0o8n-Lq.js";import{p as T}from"./chunk-O5I3QTYU-7dC2ieHk.js";import"./ApplicationLogo-D84LrN-L.js";import"./useMenuTriggerState-C7FIa5eO.js";import"./useDialog-Di36_uni.js";import"./index-Du4sZGOB.js";import"./chunk-LGMZDQT5-DN_zI6e3.js";import"./chunk-A6PX3NG3-BBOBAK1C.js";import"./index-D1ubkcav.js";import"./chunk-SLABUSGS-CD9Ro_xR.js";import"./useFilter-B2z0FITK.js";import"./LiveAnnouncer-6wq0YUFY.js";import"./chunk-2PG5BJX6-CelJ0w7I.js";import"./index-X92CTFGl.js";import"./features-animation-BcZWBFXi.js";import"./chunk-MZRCPRP2-DT8drFo4.js";import"./index-BgjJgvBe.js";function ae({auth:p,guestLogs:u}){const[c,f]=d.useState(""),[n,j]=d.useState({start:null,end:null}),_=t=>{const l=t.guest.name.toLowerCase().includes(c.toLowerCase()),g=(!n.start||new Date(t.created_at)>=new Date(n.start))&&(!n.end||new Date(t.created_at)<=new Date(n.end));return l&&g},o=u.filter(_),[i,b]=x.useState(1),r=15,w=Math.ceil(o.length/r),m=x.useMemo(()=>{const t=(i-1)*r,l=t+r;return o.slice(t,l)},[i,r,o]);return e.jsxs(v,{user:p.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Guest Logs"}),children:[e.jsx(N,{title:"Guests Logs"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[e.jsx(D,{variant:"bordered",placeholder:"Search by guest name",className:"w-full sm:max-w-[35%]",startContent:e.jsx(C,{className:"text-black/50 mb-0.5 dark:text-white/90 text-slate-400 pointer-events-none flex-shrink-0"}),value:c,onChange:t=>f(t.target.value)}),e.jsx(y,{label:"Filter by Date",labelPlacement:"top",className:"max-w-xs",variant:"bordered",visibleMonths:2,onChange:t=>j(t)})]}),e.jsxs(S,{selectionMode:"single","aria-label":"Guests Table",bottomContent:e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(T,{isCompact:!0,showControls:!0,showShadow:!0,color:"secondary",page:i,total:w,onChange:t=>b(t)})}),classNames:{wrapper:"min-h-[222px]"},children:[e.jsxs(k,{children:[e.jsx(s,{className:"text-success",children:"#"}),e.jsx(s,{children:"Guest ID"}),e.jsx(s,{children:"Guest Name"}),e.jsx(s,{children:"Purpose of Visit"}),e.jsx(s,{children:"Check In"}),e.jsx(s,{children:"Check Out"})]}),e.jsx(G,{emptyContent:"No guests found.",items:m,children:m.map((t,l)=>e.jsxs(P,{children:[e.jsx(a,{className:"text-success",children:(i-1)*r+l+1}),e.jsx(a,{children:t.guest_id}),e.jsx(a,{children:t.guest.name}),e.jsx(a,{children:t.purpose_of_visit}),e.jsx(a,{children:h(t.check_in_time)}),e.jsx(a,{children:h(t.check_out_time)})]},t.id))})]})]})})})]})}export{ae as default};
