import{t as F,s as H,j as e,aj as z,L as G,w as W,g as _,b as J,J as K,Q,u as Y,m as q,h as X,r as b,o as Z,k as y,l as ee,c as ae,W as se,Y as te,p as A}from"./app-B8Ail98r.js";import{d as re}from"./index-DGcWD1kD.js";import{S as C}from"./sweetalert2.all-Da7emTmt.js";import{d as oe}from"./index-QWW5SDFf.js";import{A as ne}from"./AuthenticatedLayout-Cspq4R1w.js";import{D as ie}from"./Icons-DcloVkhS.js";import{b as le,$ as ce}from"./index-Q0zxvhlR.js";import{u as U}from"./chunk-MZRCPRP2-E86aD0bC.js";import{m as de,a as ue,b as fe}from"./chunk-3BLMMOBU-B4_wvlWS.js";import{a as pe,m as me}from"./chunk-IGSAU2ZA-C_8gcJ-_.js";import{s as he,t as xe,a as be,b as R,c as ge,d as ve,e as B}from"./chunk-F3UDT23P-CctXTAmx.js";import{b as P}from"./useDialog-DQ_wpe6G.js";import{i as ke}from"./chunk-6MDMHKHV-CcygNEaG.js";import"./iconBase-EPfSQAw4.js";import"./ApplicationLogo-DJXjYrQ3.js";import"./useMenuTriggerState-DtGxBl3C.js";import"./chunk-LGMZDQT5-BUEL_SVa.js";import"./chunk-A6PX3NG3-y6ukHXYu.js";import"./index-DAYsc7Jb.js";import"./chunk-SLABUSGS-C6zUrI3h.js";import"./LiveAnnouncer-Cq11vl-g.js";import"./index-COJJMub8.js";var M=F({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...H],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-hover active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),je="flex mx-1 text-current self-center",ye=a=>e.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...a,children:[e.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),e.jsx("path",{d:"M15 3h6v6"}),e.jsx("path",{d:"M10 14L21 3"})]});function Ce(a,c){let{elementType:d="a",onPress:o,onPressStart:l,onPressEnd:u,onClick:p,isDisabled:n,...f}=a,i={};d!=="a"&&(i={role:"link",tabIndex:n?void 0:0});let{focusableProps:x}=z(a,c),{pressProps:m,isPressed:t}=G({onClick:p,onPress:o,onPressStart:l,onPressEnd:u,isDisabled:n,ref:c}),s=W(f,{labelable:!0,isLink:d==="a"}),g=_(x,m),h=J(),k=K(a);return{isPressed:t,linkProps:_(s,k,{...g,...i,"aria-disabled":n||void 0,"aria-current":a["aria-current"],onClick:r=>{var j;(j=m.onClick)==null||j.call(m,r),!h.isNative&&r.currentTarget instanceof HTMLAnchorElement&&r.currentTarget.href&&!r.isDefaultPrevented()&&Q(r.currentTarget,r)&&a.href&&(r.preventDefault(),h.open(r.currentTarget,r,a.href,a.routerOptions))}})}}function Pe(a){var c,d,o,l;const u=Y(),[p,n]=q(a,M.variantKeys),{ref:f,as:i,children:x,anchorIcon:m,isExternal:t=!1,showAnchorIcon:s=!1,autoFocus:g=!1,className:h,onPress:k,onPressStart:r,onPressEnd:j,onClick:T,...v}=p,S=i||"a",$=X(f),w=(d=(c=a==null?void 0:a.disableAnimation)!=null?c:u==null?void 0:u.disableAnimation)!=null?d:!1,{linkProps:D}=Ce({...v,onPress:k,onPressStart:r,onPressEnd:j,onClick:T,isDisabled:a.isDisabled,elementType:`${i}`},$),{isFocused:L,isFocusVisible:O,focusProps:I}=le({autoFocus:g});t&&(v.rel=(o=v.rel)!=null?o:"noopener noreferrer",v.target=(l=v.target)!=null?l:"_blank");const N=b.useMemo(()=>M({...n,disableAnimation:w,className:h}),[Z(n),w,h]),V=b.useCallback(()=>({ref:$,className:N,"data-focus":y(L),"data-disabled":y(a.isDisabled),"data-focus-visible":y(O),..._(I,D,v)}),[N,L,O,I,D,v]);return{Component:S,children:x,anchorIcon:m,showAnchorIcon:s,getLinkProps:V}}var E=ee((a,c)=>{const{Component:d,children:o,showAnchorIcon:l,anchorIcon:u=e.jsx(ye,{className:je}),getLinkProps:p}=Pe({ref:c,...a});return e.jsx(d,{...p(),children:e.jsxs(e.Fragment,{children:[o,l&&u]})})});E.displayName="HeroUI.Link";var _e=E;function $e(a={}){const{id:c,defaultOpen:d,isOpen:o,onClose:l,onOpen:u,onChange:p=()=>{}}=a,n=U(u),f=U(l),[i,x]=ce(o,d||!1,p),m=b.useId(),t=c||m,s=o!==void 0,g=b.useCallback(()=>{s||x(!1),f==null||f()},[s,f]),h=b.useCallback(()=>{s||x(!0),n==null||n()},[s,n]),k=b.useCallback(()=>{(i?g:h)()},[i,h,g]);return{isOpen:!!i,onOpen:h,onClose:g,onOpenChange:k,isControlled:s,getButtonProps:(r={})=>({...r,"aria-expanded":i,"aria-controls":t,onClick:ae(r.onClick,k)}),getDisclosureProps:(r={})=>({...r,hidden:!i,id:t})}}function Qe({auth:a}){const{isOpen:c,onOpen:d,onClose:o}=$e(),{data:l,setData:u,post:p}=se({}),[n,f]=b.useState([]);b.useEffect(()=>{(async()=>{try{const s=await A.get("/upload/all");f(s.data)}catch(s){console.error("Error fetching uploads:",s)}})()},[]);const i=async t=>{try{await A.delete(`/uploads/${t}`),f(n.filter(s=>s.id!==t))}catch(s){console.error("Error deleting upload:",s)}},x=t=>{u({...l,[t.target.name]:t.target.value})},m=async t=>{if(t.preventDefault(),!l.media_url){C.fire({icon:"warning",title:"Oops...",text:"Please enter a media URL."});return}try{await p(route("media.upload"),l),C.fire({icon:"success",title:"Success!",text:"Uploaded successfully."}).then(s=>{(s.isConfirmed||s.isDismissed)&&oe.Inertia.visit(route("media.create"))}),o()}catch{C.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}};return e.jsxs(ne,{user:a.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Upload"}),children:[e.jsx(te,{title:"Guests"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx(P,{as:_e,onPress:d,color:"primary",startContent:e.jsx(re,{}),children:"Add Media"}),e.jsx(he,{y:5}),e.jsxs(xe,{"aria-label":"Media URL TABLE",children:[e.jsxs(be,{children:[e.jsx(R,{children:"MEDIA URL"}),e.jsx(R,{children:""})]}),e.jsx(ge,{emptyContent:"No uploads found.",children:n.map(t=>e.jsxs(ve,{children:[e.jsx(B,{children:t.media_url}),e.jsx(B,{children:e.jsx("div",{className:"relative flex items-center justify-center gap-2 text-lg cursor-pointer active:opacity-50",children:e.jsx("span",{className:"text-primary cursor-pointer active:opacity-50",children:e.jsx(ie,{className:"text-danger",onClick:()=>i(t.id)})})})})]},t.id))})]}),e.jsx(de,{isOpen:c,onClose:o,placement:"top-center",isDismissable:!1,hideCloseButton:!0,size:"xl",scrollBehavior:"outside",backdrop:"blur",children:e.jsx(ue,{children:e.jsxs("form",{onSubmit:m,children:[e.jsxs(pe,{className:"flex flex-col gap-1",children:["Upload Media Url",e.jsxs("p",{className:"text-sm text-gray-500",children:["Instructions: Please upload your video (mp4) or image (jpg, png, webp) to an online storage service like Google Drive or Dropbox, then paste the link here. The URL should look something like this:",e.jsx("br",{}),"https://domain.com/file.mp4 or https://domain.com/file.jpg"]})]}),e.jsx(fe,{children:e.jsx("div",{className:"mb-4",children:e.jsx(ke,{type:"url",name:"media_url",label:"Media URL",onChange:x,className:"mt-1",placeholder:"Media URL (Image or Video)"})})}),e.jsxs(me,{children:[e.jsx(P,{color:"primary",type:"submit",children:"Upload"}),e.jsx(P,{color:"danger",onPress:o,children:"Cancel"})]})]})})})]})})]})}export{Qe as default};
