import{r as d,m as x,j as e,Y as N}from"./app-BgPJxW1M.js";import{A as v}from"./AuthenticatedLayout-4UDuBHRk.js";import{S as C}from"./Icons-BMDUzsRI.js";import"./sweetalert2.all-DRkH_Ac5.js";import{f as h}from"./date-DbclOb_I.js";import{d as y}from"./chunk-IFRGGGYI-AEvM8GgU.js";import{i as k}from"./chunk-6MDMHKHV-Dmc0XIQK.js";import{t as D,a as S,b as s,c as G,d as M,e as a}from"./chunk-F3UDT23P-D-N1hNii.js";import{p as P}from"./chunk-O5I3QTYU-Dr-MrWIT.js";import"./ApplicationLogo-ICvcoLbq.js";import"./useMenuTriggerState-C2ONs9Sh.js";import"./useDialog-BAG7Eb_K.js";import"./index-C9HaU8Wt.js";import"./chunk-A6PX3NG3-D0tUKdqy.js";import"./index-B8DAAwzc.js";import"./chunk-SLABUSGS-UT7_g1Pg.js";import"./useFilter-B-a6vIHW.js";import"./chunk-2PG5BJX6-BBjaD8Z_.js";import"./index-X92CTFGl.js";import"./features-animation-D8Toxma3.js";import"./index-BXYXcNLJ.js";function L({auth:p,guestLogs:u}){const[m,f]=d.useState(""),[l,j]=d.useState({start:null,end:null}),_=t=>{const n=t.guest.name.toLowerCase().includes(m.toLowerCase()),g=(!l.start||new Date(t.created_at)>=new Date(l.start))&&(!l.end||new Date(t.created_at)<=new Date(l.end));return n&&g},i=u.filter(_),[o,b]=x.useState(1),r=15,w=Math.ceil(i.length/r),c=x.useMemo(()=>{const t=(o-1)*r,n=t+r;return i.slice(t,n)},[o,r,i]);return e.jsxs(v,{user:p.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Guest Logs"}),children:[e.jsx(N,{title:"Guests Logs"}),e.jsx("div",{className:"py-8 px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex justify-end gap-2 mb-4",children:e.jsx(k,{variant:"bordered",placeholder:"Search by guest name",className:"w-full sm:max-w-[35%]",startContent:e.jsx(C,{className:"text-black/50 mb-0.5 dark:text-white/90 text-slate-400 pointer-events-none flex-shrink-0"}),value:m,onChange:t=>f(t.target.value)})}),e.jsxs(D,{selectionMode:"single","aria-label":"Guests Table",bottomContent:e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(P,{isCompact:!0,showControls:!0,showShadow:!0,color:"secondary",page:o,total:w,onChange:t=>b(t)})}),classNames:{wrapper:"min-h-[222px]"},topContent:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm italic font-medium text-gray-900 dark:text-white",children:["showing ",c.length," of"," ",i.length]}),e.jsx(y,{label:"Filter by Date",labelPlacement:"top",className:"max-w-xs",variant:"bordered",visibleMonths:2,onChange:t=>j(t)})]}),children:[e.jsxs(S,{children:[e.jsx(s,{className:"text-success",children:"#"}),e.jsx(s,{children:"Guest ID"}),e.jsx(s,{children:"Guest Name"}),e.jsx(s,{children:"Meeting with"}),e.jsx(s,{children:"Purpose of Visit"}),e.jsx(s,{children:"Check In"}),e.jsx(s,{children:"Check Out"})]}),e.jsx(G,{emptyContent:"No guests found.",items:c,children:c.map((t,n)=>e.jsxs(M,{children:[e.jsx(a,{className:"text-success",children:(o-1)*r+n+1}),e.jsx(a,{children:t.guest_id}),e.jsx(a,{children:t.guest.name}),e.jsx(a,{children:t.meeting_with||"--"}),e.jsx(a,{children:t.purpose_of_visit}),e.jsx(a,{children:h(t.check_in_time)}),e.jsx(a,{children:h(t.check_out_time)||"--"})]},t.id))})]})]})})})]})}export{L as default};
