import{n as L,j as e,r as u,y as W}from"./app-DQKbtpUE.js";import"./index-BPNwAxKt.js";import{S as _}from"./sweetalert2.all-DnMzc0_o.js";import{a as B}from"./index-ol3jI-3D.js";import{G as j}from"./iconBase-C6J5kYmD.js";import{m as N,a as k,b as I}from"./chunk-3BLMMOBU-DY4E59hq.js";import{a as D,m as E}from"./chunk-IGSAU2ZA-q6Ye7BeZ.js";import{l as O,d as t,f as T,u as V,e as z}from"./useflashMessages-D_Vf8XjQ.js";import{b as p}from"./useDialog-CLSStCTh.js";import{c as A}from"./chunk-MZRCPRP2-kpWriY06.js";import{i as h}from"./chunk-6MDMHKHV-BjIwF3os.js";import"./index-GIThBFd9.js";import"./useMenuTriggerState-Cj7UxLqd.js";import"./chunk-SLABUSGS-CQSBjwrf.js";import"./index-jIxHAZ96.js";import"./chunk-2PG5BJX6-nsBjSRia.js";import"./chunk-LGMZDQT5-DjddcqSW.js";function w(s){return null}w.getCollectionNode=function*(a){let{children:r,title:d,items:n}=a;yield{type:"section",props:a,hasChildNodes:!0,rendered:d,"aria-label":a["aria-label"],*childNodes(){if(typeof r=="function"){if(!n)throw new Error("props.children was a function but props.items is missing");for(let i of n)yield{type:"item",value:i,renderer:r}}else{let i=[];L.Children.forEach(r,g=>{i.push({type:"item",element:g})}),yield*i}}}};let K=w;var $=K,f=$;function q(s){return j({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(s)}function G(s){return j({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(s)}function U(s){return j({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(s)}function Y({isOpen:s,onOpenChange:a,isChecked:r,onCheckboxChange:d,onAgree:n}){const i="text-xl text-default-500 pointer-events-none flex-shrink-0";return e.jsx(N,{isOpen:s,onOpenChange:a,scrollBehavior:"inside",size:"xl",placement:"center",isDismissable:!1,isKeyboardDismissDisabled:!0,hideCloseButton:!0,children:e.jsxs(k,{children:[e.jsx(D,{className:"flex flex-col items-center",children:e.jsx("h2",{className:"text-2xl font-extrabold",children:e.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary relative",children:["Guestbook Kiosk Privacy Notice",e.jsx("span",{className:"absolute  left-1/2 transform -translate-x-1/2 -bottom-2 h-[3px] w-16 bg-[#2aefe6]"})]})})}),e.jsx(I,{children:e.jsxs(O,{"aria-label":"Guest Consent",children:[e.jsxs(f,{title:"",showDivider:!0,children:[e.jsx(t,{description:e.jsx(e.Fragment,{children:e.jsx("p",{children:"This section outlines how we collect, use, and protect your personal and non-personal information. We are committed to safeguarding your privacy and ensuring a secure online experience with our guest logbook."})})},"header"),e.jsx(t,{description:e.jsx(e.Fragment,{children:e.jsx("p",{children:"We may collect personal details such as your name, email address, and phone number when you complete the registration form. This information allows us to effectively manage guest entries and ensure a personalized experience."})}),startContent:e.jsx(B,{className:i}),children:"Information Collection"},"information-collection"),e.jsx(t,{description:e.jsx(e.Fragment,{children:e.jsx("p",{children:"Your personal information is utilized for enhancing our guest logbook services, facilitating communication with you, and improving our overall user experience. We do not engage in any form of unauthorized marketing or sharing of your data."})}),startContent:e.jsx(G,{className:i}),children:"Use of Information"},"use-of-information"),e.jsx(t,{description:"We take appropriate measures to safeguard your data and maintain its confidentiality. Your information is not sold or shared with third parties unless required by law.",startContent:e.jsx(U,{className:i}),children:"Data Protection"},"data-protection"),e.jsx(t,{description:"By using our guest logbook and submitting information through the form, you consent to the terms outlined in this privacy policy.",startContent:e.jsx(q,{className:i}),children:"Consent"},"consent")]}),e.jsx(f,{children:e.jsx(t,{description:e.jsx(e.Fragment,{children:e.jsx("p",{children:"We may update this privacy notice from time to time. We will post the updated notice on the Kiosk."})}),children:"Changes to this Privacy Notice"},"changes-to-privacy-notice")}),e.jsx(f,{children:e.jsx(t,{description:e.jsx(e.Fragment,{children:e.jsxs("p",{children:["If you have any questions about this privacy notice, please contact us at"," ",e.jsx("b",{className:"text-blue-500",children:"dpcompliance@kiosk.com"})]})}),children:"Contact Us"},"contact-us")}),e.jsx(f,{children:e.jsx(t,{description:e.jsx(e.Fragment,{children:e.jsx("p",{children:"Thank you for entrusting us with your information."})})},"footer")})]})}),e.jsx("div",{className:"px-4 py-3 sm:px-6",children:e.jsx(A,{name:"is_agreed",checked:r,onChange:d,children:e.jsx("span",{className:"text-xs",children:"I have read and agreed to the privacy notice stated above and I understand that I can revoke my consent at any time."})})}),e.jsxs(E,{children:[e.jsx(p,{color:"primary",onPress:n,isDisabled:!r,children:"Continue"}),e.jsx(p,{color:"danger",variant:"flat",onPress:()=>a(!1),children:"Cancel"})]})]})})}function he(){const[s,a]=u.useState({name:"",email:"",phone:"",company:"",address:"",id_type:"",id_number:"",is_agreed:!1}),[r,d]=u.useState({}),[n,i]=u.useState(!1),[g,b]=u.useState(!1),[P,x]=u.useState(!1);T(),V();const l=c=>{const{name:o,value:y}=c.target;let v=y;(o==="name"||o==="company")&&(v=y.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" ")),a(m=>({...m,[o]:v})),r[o]&&d(m=>{const C={...m};return delete C[o],C})},M=async c=>{c.preventDefault(),i(!0);try{W.post("/guest/register",s,{onSuccess:()=>{x(!1),a({name:"",email:"",phone:"",company:"",address:"",id_type:"",id_number:"",is_agreed:!1})},onError:o=>{d(o),_.fire({title:"Validation Error",text:"Please check the form for errors",icon:"error",confirmButtonText:"OK"})},onFinish:()=>{i(!1)}})}catch{_.fire({title:"Error!",text:"An unexpected error occurred. Please try again.",icon:"error",confirmButtonText:"OK"}),i(!1)}},F=()=>{a(c=>({...c,is_agreed:!c.is_agreed}))},R=()=>{b(!0)},S=()=>{b(!1),x(!0)};return e.jsxs("div",{children:[e.jsx(p,{color:"primary",variant:"shadow",className:"mt-6",onPress:R,children:"Register"}),e.jsx(Y,{isOpen:g,onOpenChange:b,isChecked:s.is_agreed,onCheckboxChange:F,onAgree:S}),e.jsx(N,{isOpen:P,onOpenChange:()=>x(!1),size:"xl",scrollBehavior:"outside",isDismissable:!1,isKeyboardDismissDisabled:!0,hideCloseButton:!0,placement:"center",children:e.jsxs(k,{children:[e.jsx(D,{className:"flex items-center",children:e.jsx("section",{className:"bg-white py-[15px]",children:e.jsx("div",{className:"mx-auto px-2 sm:container",children:e.jsx("div",{className:"flex items-center border-b border-stroke pb-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1 font-extrabold text-dark",children:"Welcome ðŸ‘‹"}),e.jsx("p",{className:"text-sm font-medium text-body-color",children:"Please take a moment to fill out the form below to register."})]})})})})}),e.jsxs(I,{children:[e.jsx("p",{className:"mb-4",children:e.jsx("span",{className:"font-semibold text-danger",children:"(*) Required Field"})}),e.jsxs("form",{onSubmit:M,children:[e.jsx("div",{className:"mb-4",children:e.jsx(h,{type:"text",name:"name",label:"Full Name",value:s.name,onChange:l,isRequired:!0,isInvalid:!!r.name,errorMessage:r.name,onClear:()=>a({...s,name:""}),variant:"bordered"})}),e.jsx("div",{className:"mb-4",children:e.jsx(h,{type:"text",name:"company",label:"Company Name",value:s.company,onChange:l,isRequired:!0,isInvalid:!!r.company,errorMessage:r.company,isClearable:!0,onClear:()=>a({...s,company:""}),variant:"bordered"})}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(h,{type:"text",name:"phone",label:"Phone Number",value:s.phone,onChange:l,isInvalid:!!r.phone,errorMessage:r.phone,onClear:()=>a({...s,phone:""}),variant:"bordered"}),e.jsx(h,{type:"email",name:"email",label:"Email Address",value:s.email,onChange:l,isInvalid:!!r.email,errorMessage:r.email,onClear:()=>a({...s,email:""}),variant:"bordered"})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs(z,{name:"id_type",label:"ID Type",value:s.id_type,onChange:l,placeholder:"Please select",isInvalid:!!r.id_type,errorMessage:r.id_type,variant:"bordered",children:[e.jsx(t,{value:"company_id",children:"Company ID"},"Company ID"),e.jsx(t,{value:"passport",children:"Passport"},"Passport"),e.jsx(t,{value:"national_id",children:"National ID"},"National ID"),e.jsx(t,{value:"driver_license",children:"Driver's License"},"Driver's License"),e.jsx(t,{value:"work_id",children:"Work ID"},"Work ID"),e.jsx(t,{value:"voter_id",children:"Voter ID"},"Voter ID"),e.jsx(t,{value:"tin",children:"TIN"},"TIN"),e.jsx(t,{value:"postal_id",children:"Postal ID"},"Postal ID")]}),e.jsx(h,{type:"text",name:"id_number",label:"ID Number",value:s.id_number,onChange:l,isInvalid:!!r.id_number,errorMessage:r.id_number,onClear:()=>a({...s,id_number:""}),variant:"bordered"})]}),e.jsx("div",{className:"mb-4",children:e.jsx(h,{type:"text",name:"address",label:"Address Line 1",value:s.address,onChange:l,isInvalid:!!r.address,errorMessage:r.address,onClear:()=>a({...s,address:""}),variant:"bordered"})}),e.jsxs("div",{className:"flex gap-2 justify-end mt-5 mb-5",children:[e.jsx(p,{color:"primary",type:"submit",isDisabled:n||!s.name||!s.company,children:n?"Registering...":"Register"}),e.jsx(p,{color:"danger",variant:"flat",onPress:()=>x(!1),isDisabled:n,children:"Cancel"})]})]})]})]})})]})}export{he as default};
