import{m as R,j as e,r as f,y as V,Z as v}from"./app-BOhBQsMj.js";import{F as W,u as A,M as B}from"./index-BpOBjVO5.js";import{a as T,b as z,c as L}from"./index-D4x82E6k.js";import{l as U,d as n,e as $}from"./chunk-2GIFKCNQ-B1XaNuCs.js";import{c as q}from"./index-BzvmqqHT.js";import{m as C,a as _,b as N}from"./chunk-3BLMMOBU-BT8rryJw.js";import{m as k,a as K}from"./chunk-IGSAU2ZA-CIGX9JAY.js";import{b as g}from"./useDialog-DWl9359L.js";import{i as x}from"./chunk-6MDMHKHV-DVk9QeNE.js";import"./iconBase-nuzzJxVw.js";import"./useMenuTriggerState-I8UwABL4.js";import"./index-EnllX0V9.js";import"./chunk-2PG5BJX6-Bl5hchpg.js";function D(a){return null}D.getCollectionNode=function*(r){let{children:s,title:l,items:c}=r;yield{type:"section",props:r,hasChildNodes:!0,rendered:l,"aria-label":r["aria-label"],*childNodes(){if(typeof s=="function"){if(!c)throw new Error("props.children was a function but props.items is missing");for(let i of c)yield{type:"item",value:i,renderer:s}}else{let i=[];R.Children.forEach(s,d=>{i.push({type:"item",element:d})}),yield*i}}}};let Y=D;var G=Y,j=G;function Z({isOpen:a,onOpenChange:r,isChecked:s,onCheckboxChange:l,onAgree:c,onCancel:i}){const d="text-xl text-default-500 pointer-events-none flex-shrink-0";return e.jsx(C,{isOpen:a,onOpenChange:r,scrollBehavior:"inside",size:"2xl",placement:"center",isDismissable:!1,isKeyboardDismissDisabled:!0,hideCloseButton:!0,children:e.jsxs(_,{children:[e.jsx(k,{className:"flex flex-col items-center",children:e.jsx("h2",{className:"text-2xl font-extrabold",children:e.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary relative",children:["Guestbook Kiosk Privacy Notice",e.jsx("span",{className:"absolute  left-1/2 transform -translate-x-1/2 -bottom-2 h-[3px] w-16 bg-[#2aefe6]"})]})})}),e.jsx(N,{children:e.jsxs(U,{"aria-label":"Guestbook privacy policy sections",children:[e.jsxs(j,{title:"",showDivider:!0,children:[e.jsx(n,{textValue:"Privacy notice header",description:e.jsx(e.Fragment,{children:e.jsx("p",{children:"This section outlines how we collect, use, and protect your personal and non-personal information. We are committed to safeguarding your privacy and ensuring a secure online experience with our guest logbook."})})},"header"),e.jsx(n,{textValue:"Information Collection",description:e.jsx(e.Fragment,{children:e.jsx("p",{children:"We may collect personal details such as your name, email address, and phone number when you complete the registration form. This information allows us to effectively manage guest entries and ensure a personalized experience."})}),startContent:e.jsx(W,{className:d}),children:"Information Collection"},"information-collection"),e.jsx(n,{textValue:"Use of Information",description:e.jsx(e.Fragment,{children:e.jsx("p",{children:"Your personal information is utilized for enhancing our guest logbook services, facilitating communication with you, and improving our overall user experience. We do not engage in any form of unauthorized marketing or sharing of your data."})}),startContent:e.jsx(T,{className:d}),children:"Use of Information"},"use-of-information"),e.jsx(n,{textValue:"Data Protection",description:"We take appropriate measures to safeguard your data and maintain its confidentiality. Your information is not sold or shared with third parties unless required by law.",startContent:e.jsx(z,{className:d}),children:"Data Protection"},"data-protection"),e.jsx(n,{textValue:"Consent",description:"By using our guest logbook and submitting information through the form, you consent to the terms outlined in this privacy policy.",startContent:e.jsx(L,{className:d}),children:"Consent"},"consent")]}),e.jsx(j,{children:e.jsx(n,{textValue:"Changes to Privacy Notice",description:e.jsx(e.Fragment,{children:e.jsx("p",{children:"We may update this privacy notice from time to time. We will post the updated notice on the Kiosk."})}),children:"Changes to this Privacy Notice"},"changes-to-privacy-notice")}),e.jsx(j,{children:e.jsx(n,{textValue:"Contact Us",description:e.jsx(e.Fragment,{children:e.jsxs("p",{children:["If you have any questions about this privacy notice, please contact us at"," ",e.jsx("b",{className:"text-blue-500",children:"dpcompliance@kiosk.com"})]})}),children:"Contact Us"},"contact-us")}),e.jsx(j,{children:e.jsx(n,{textValue:"Privacy notice footer",description:e.jsx(e.Fragment,{children:e.jsx("p",{children:"Thank you for entrusting us with your information."})})},"footer")})]})}),e.jsx("div",{className:"px-4 py-3 sm:px-6",children:e.jsx(q,{name:"is_agreed",checked:s,onChange:l,children:e.jsx("span",{className:"text-xs",children:"I have read and agreed to the privacy notice stated above and I understand that I can revoke my consent at any time."})})}),e.jsxs(K,{children:[e.jsx(g,{color:"primary",onPress:c,isDisabled:!s,children:"Continue"}),e.jsx(g,{color:"danger",variant:"flat",onPress:i,children:"Cancel"})]})]})})}function ce(){const[a,r]=f.useState({name:"",email:"",phone:"",company:"",address:"",id_type:"",id_number:"",is_agreed:!1}),[s,l]=f.useState({}),[c,i]=f.useState(!1),[d,b]=f.useState(!1),[P,y]=f.useState(!1),w=A(),m=o=>{const{name:t,value:u}=o.target;let h=u;(t==="name"||t==="company")&&(h=u.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" ")),r(p=>({...p,[t]:h})),s[t]&&l(p=>{const I={...p};return delete I[t],I})},F=async o=>{o.preventDefault(),i(!0);try{V.post(route("guest.register"),a,{onSuccess:t=>{y(!1),r({name:"",email:"",phone:"",company:"",address:"",id_type:"",id_number:"",is_agreed:!1}),v({title:"Success",description:t.props.flash.success,color:"success"}),console.log(t)},onError:t=>{const u={};t.message?u.message=t.message:Object.keys(t).forEach(h=>{u[h]=Array.isArray(t[h])?t[h][0]:t[h]}),l(u),v({title:"Error",description:u.message||"Please check the form for errors",color:"danger"})},onFinish:()=>{i(!1)}})}catch(t){console.error(t),v({title:"Error",description:t.message||"An unexpected error occurred",color:"danger"}),i(!1)}},M=()=>{r(o=>({...o,is_agreed:!o.is_agreed}))},S=()=>{b(!0)},E=()=>{b(!1),r({name:"",email:"",phone:"",company:"",address:"",id_type:"",id_number:"",is_agreed:!1}),l({})},O=()=>{y(!1),r({name:"",email:"",phone:"",company:"",address:"",id_type:"",id_number:"",is_agreed:!1}),l({})};return e.jsxs("div",{children:[e.jsx(g,{color:"primary",variant:"shadow",className:"mt-6",onPress:S,children:"Register"}),e.jsx(C,{isOpen:!w,hideCloseButton:!0,placement:"center",backdrop:"blur",isDismissable:!1,children:e.jsx(_,{children:e.jsx(N,{className:"p-6 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[e.jsx(B,{className:"text-red-500 text-5xl"}),e.jsx("h2",{className:"text-xl font-bold text-red-600",children:"Offline Mode"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You are currently offline. Some features may be unavailable. Please reconnect to continue."})]})})})}),e.jsx(Z,{isOpen:d,onOpenChange:o=>{o||r(t=>({...t,is_agreed:!1})),b(o)},isChecked:a.is_agreed,onCheckboxChange:M,onAgree:()=>{b(!1),y(!0)},onCancel:E}),e.jsx(C,{isOpen:P,onOpenChange:()=>y(!1),size:"2xl",scrollBehavior:"outside",isDismissable:!1,isKeyboardDismissDisabled:!0,hideCloseButton:!0,placement:"center",children:e.jsxs(_,{children:[e.jsx(k,{className:"flex items-center",children:e.jsx("section",{className:"bg-white py-[15px]",children:e.jsx("div",{className:"mx-auto px-2 sm:container",children:e.jsx("div",{className:"flex items-center border-b border-stroke pb-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1 font-extrabold text-dark",children:"Welcome ðŸ‘‹"}),e.jsx("p",{className:"text-sm font-medium text-body-color",children:"Please take a moment to fill out the form below to register."})]})})})})}),e.jsxs(N,{children:[e.jsx("p",{className:"mb-4",children:e.jsx("span",{className:"font-semibold text-danger",children:"(*) Required Field"})}),e.jsxs("form",{onSubmit:F,children:[e.jsx("div",{className:"mb-4",children:e.jsx(x,{type:"text",name:"name",label:"Full Name",value:a.name,onChange:m,isRequired:!0,isInvalid:!!s.name,errorMessage:s.name,onClear:()=>r({...a,name:""}),variant:"bordered"})}),e.jsx("div",{className:"mb-4",children:e.jsx(x,{type:"text",name:"company",label:"Company Name",value:a.company,onChange:m,isRequired:!0,isInvalid:!!s.company,errorMessage:s.company,isClearable:!0,onClear:()=>r({...a,company:""}),variant:"bordered"})}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(x,{type:"text",name:"phone",label:"Phone Number",value:a.phone,onChange:m,isInvalid:!!s.phone,errorMessage:s.phone,onClear:()=>r({...a,phone:""}),variant:"bordered"}),e.jsx(x,{type:"email",name:"email",label:"Email Address",value:a.email,onChange:m,isInvalid:!!s.email,errorMessage:s.email,onClear:()=>r({...a,email:""}),variant:"bordered"})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs($,{name:"id_type",label:"ID Type",value:a.id_type,onChange:m,placeholder:"Please select",isInvalid:!!s.id_type,errorMessage:s.id_type,variant:"bordered",children:[e.jsx(n,{value:"company_id",children:"Company ID"},"Company ID"),e.jsx(n,{value:"passport",children:"Passport"},"Passport"),e.jsx(n,{value:"national_id",children:"National ID"},"National ID"),e.jsx(n,{value:"driver_license",children:"Driver's License"},"Driver's License"),e.jsx(n,{value:"work_id",children:"Work ID"},"Work ID"),e.jsx(n,{value:"voter_id",children:"Voter ID"},"Voter ID"),e.jsx(n,{value:"tin",children:"TIN"},"TIN"),e.jsx(n,{value:"postal_id",children:"Postal ID"},"Postal ID")]}),e.jsx(x,{type:"text",name:"id_number",label:"ID Number",value:a.id_number,onChange:m,isInvalid:!!s.id_number,errorMessage:s.id_number,onClear:()=>r({...a,id_number:""}),variant:"bordered"})]}),e.jsx("div",{className:"mb-4",children:e.jsx(x,{type:"text",name:"address",label:"Address Line 1",value:a.address,onChange:m,isInvalid:!!s.address,errorMessage:s.address,onClear:()=>r({...a,address:""}),variant:"bordered"})}),e.jsxs("div",{className:"flex gap-2 justify-end mt-5 mb-5",children:[e.jsx(g,{color:"primary",type:"submit",isDisabled:c||!a.name||!a.company,children:c?"Please wait...":"Register"}),e.jsx(g,{color:"danger",variant:"flat",onPress:O,isDisabled:c,children:"Cancel"})]})]})]})]})})]})}export{ce as default};
